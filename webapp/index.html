<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<meta content="width=device-width, initial-scale=1.0" name="viewport">
	<title>My Toto</title>


	<link href="https://unpkg.com/sanitize.css" rel="stylesheet"/><!-- css reset -->
	<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;600&display=swap" rel="stylesheet">

	<style>
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}

		body {
			font-family: 'Poppins', sans-serif;
			background-color: #f4f4f9;
			color: #333;
			scroll-behavior: smooth;
		}

		/* header */
		header {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			background-color: #181B1F;
			padding: 15px 20px;
			z-index: 1000;
			display: flex;
			justify-content: space-between;
			align-items: center;
			box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
		}

		/* 로고 */
		header .logo {
			font-size: 32px;
			font-weight: 600;
			letter-spacing: 2px;
			color: #ffffff;
			text-decoration: none;
		}

		/* 메뉴 */
		nav {
			display: flex;
			gap: 20px;
		}

		nav a {
			text-decoration: none;
			color: #6A6A6A;
			font-size: 18px;
			transition: color 0.3s;
		}

		nav a:hover {
			color: white;
		}

		/* Home 섹션 */
		#home {
			position: relative;
			padding: 100px 20px;
			height: 100vh;
			background-image: url('/images/olena-bohovyk-6FdG9OL6JLI-unsplash.jpg');
			background-size: cover;
			background-position: center;
		}

		/* 별 */
		.star {
			position: absolute;
			width: 5px;
			height: 5px;
			background-color: white;
			border-radius: 50%;
			animation: twinkle 2s infinite ease-in-out;
		}

		/* 별 애니메이션 */
		@keyframes twinkle {
			0% {
				opacity: 0.5;
			}
			100% {
				opacity: 1;
			}
		}

		/* 시간차 애니메이션 */
		.star:nth-child(odd) {
			animation-delay: 0.5s;
		}

		.star:nth-child(even) {
			animation-delay: 1s;
		}

		/* 섹션 공통 */
		section {
			padding: 100px 20px;
			text-align: center;
			background-color: #fff;
		}

		/* Photo 섹션 */
		#photo {
			padding: 50px 20px;
			background-color: #fff;
			height: auto; /* 잘리는 현상 수정 */
		}

		#home {
			padding: 100px 20px;
			height: 100vh;
			background-image: url('/images/olena-bohovyk-6FdG9OL6JLI-unsplash.jpg');
			background-size: cover;
			background-position: center;
		}

		.content-box {
			background-color: white;
			padding: 30px;
			max-width: 800px;
			margin: 0 auto;
			border-radius: 10px;
			box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
		}

		/* story 섹션 */
		#story {
			background-color: #fafafa;
			padding: 50px 20px;
			text-align: center;
		}

		#story .content-box {
			background-color: #fff;
			padding: 40px;
			max-width: 900px;
			margin: 0 auto;
			border-radius: 10px;
			box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
			line-height: 1.6;
		}

		#story h1 {
			font-size: 36px;
			font-weight: 600;
			color: #181B1F;
			margin-bottom: 30px;
		}

		#story .section-text {
			font-size: 18px;
			color: #555;
			margin-bottom: 20px;
		}

		/* footer */
		footer {
			text-align: center;
			padding: 20px;
			background-color: #181B1F;
			color: white;
			position: fixed;
			bottom: 0;
			width: 100%;
		}

		/* 반응형 */
		@media (max-width: 768px) {
			header {
				flex-direction: column;
				align-items: flex-start;
			}

			nav {
				flex-direction: column;
				gap: 10px;
			}

			nav a {
				font-size: 16px;
			}

			section {
				padding: 60px 20px;
			}

			footer {
				padding: 15px;
			}

			.content-box {
				padding: 20px;
			}
		}

		/* 챗봇 */
		.chat-container {
			border: 1px solid #ccc;
			padding: 20px;
			border-radius: 10px;
			background-color: #fff;
			box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
			max-width: 600px;
			margin: 0 auto;
			overflow-y: auto;
			max-height: 500px; /* 최대 높이 설정 */
		}

		.chat-box {
			margin-bottom: 20px;
			display: flex;
			flex-direction: column;
		}

		.chat-box p {
			padding: 10px;
			border-radius: 10px;
			max-width: 80%;
			margin-bottom: 10px;
			font-size: 18px;
		}

		/* 챗봇 왼쪽 */
		.bot-message {
			background-color: #1f2937;
			color: white;
			align-self: flex-start;
		}

		/* 챗봇 오른쪽 */
		.user-message {
			background-color: #56c7f3;
			color: white;
			align-self: flex-end;
		}

		/* 버튼 스타일 */
		.question-buttons {
			display: flex;
			flex-wrap: wrap;
			gap: 10px;
			margin-top: 20px;
		}

		.question-btn {
			background-color: #181b1f;
			color: white;
			border: none;
			padding: 10px 20px;
			border-radius: 5px;
			cursor: pointer;
			font-size: 16px;
			transition: background-color 0.3s ease;
		}

		.question-btn:hover {
			background-color: #333;
		}

		.home-section {
			position: relative;
			height: 100vh;
			display: flex;
			justify-content: center;
			align-items: center;
			background-color: #f0f2f5;
		}

		.home-div {
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			color: white;
			font-size: 28px;
			font-weight: 600;
			text-align: center;
			padding: 10px 20px;
			background-color: rgba(0, 0, 0, 0);
			border-radius: 8px;
		}

		/* 맵 */
		#map {
			display: grid;
			grid-template-columns: repeat(5, 100px);
			grid-template-rows: repeat(5, 100px);
			gap: 5px;
			margin-top: 20px;
			position: relative;
		}

		.tile {
			width: 100px;
			height: 100px;
			background-color: white;
			display: flex;
			align-items: center;
			justify-content: center;
			border-radius: 8px;
			transition: background-color 0.3s;
		}

		.tile.active {
			background-color: #ffa;
		}

		.tile.special-cu {
			background-image: url('/images/story/cu.png');
			background-size: cover;
		}

		.tile.special-park {
			background-image: url('/images/story/park.png');
			background-size: cover;
		}

		.tile.special-ansan {
			background-image: url('/images/story/ansan.png');
			background-size: cover;
		}

		.tile.special-house {
			background-image: url('/images/story/house.png');
			background-size: cover;
		}

		#map img {
			width: 50px;
			height: 50px;
			transition: transform 0.2s ease;
		}

		#status {
			margin-top: 20px;
			font-size: 1.2rem;
			color: #333;
		}

		/* Photo 섹션 */
		#photo {
			padding: 100px 20px;
			text-align: center;
		}

		#photo .content-box {
			background-color: white;
			padding: 30px;
			max-width: 1200px;
			margin: 0 auto;
			border-radius: 10px;
			box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
		}

		/* 갤러리 ul */
		.gallery-images {
			display: grid;
			grid-template-columns: repeat(4, 1fr);
			gap: 20px;
			list-style: none;
			padding: 0;
			margin: 0;
		}

		.gallery-image-container {
			position: relative;
			width: 100%;
			max-width: 250px;
			height: 220px;
			overflow: hidden;
			border-radius: 10px;
			border: 2px solid #ddd;
			box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
		}

		.gallery-image {
			width: 100%;
			height: 100%;
			object-fit: cover;
			transition: transform 0.3s ease-in-out;
		}

		.gallery-image:hover {
			transform: scale(1.1);
		}

		/* 팝업 모달 */
		.popup-overlay {
			display: none;
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-color: rgba(0, 0, 0, 0.7);
			justify-content: center;
			align-items: center;
			z-index: 2000;
			opacity: 0;
			transition: opacity 0.3s ease-in-out; /* 페이드 */
		}

		.popup-overlay.show {
			display: flex;
			opacity: 1;
		}

		.popup-content {
			position: relative;
			background-color: #fff;
			width: 60%;
			max-width: 900px;
			padding: 20px;
			border-radius: 10px;
			box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
			display: flex;
			justify-content: center;
			align-items: center;
			box-sizing: border-box;
			overflow: hidden;
		}

		.popup-content img {
			max-width: 100%;
			max-height: 80vh;
			object-fit: contain;
			border-radius: 8px;
		}

		.close-popup-btn {
			position: absolute;
			top: 10px;
			right: 10px;
			background-color: rgba(0, 0, 0, 0.7);
			color: #fff;
			border: none;
			border-radius: 50%;
			width: 35px;
			height: 35px;
			font-size: 20px;
			cursor: pointer;
			display: flex;
			justify-content: center;
			align-items: center;
		}

		.close-popup-btn:hover {
			background-color: rgba(0, 0, 0, 0.9);
		}
	</style>

</head>
<body>

<!-- 상단 메뉴 -->
<header>
	<a class="logo" href="#home">My <span>Toto</span></a>
	<nav>
		<a href="#home">Home</a>
		<a href="#about">About</a>
		<a href="#story">Story</a>
		<a href="#photo">Photo</a>
	</nav>
</header>

<!-- Home 섹션 -->
<section id="home">
	<div class="home-div">
		<h1>아기 고양이 토토</h1>
		<p>지구 상의 수많은 별들 속<br>우린 특별한 인연을 맺게 되었어요.</p>
	</div>
	<!-- 별 -->
	<div class="stars-container">
	</div>
</section>

<!-- About 섹션 -->
<section id="about">
	<div class="content-box">
		<h1>About</h1>
		<!-- 채팅창 형식 -->
		<div class="chat-container">
			<!-- 대화 내용 영역 -->
			<div class="chat-box">
				<p class="bot-message">토토에 대해 궁금한 부분을 물어봐주세요!</p>
				<!-- 질문 버튼들 -->
				<div class="question-buttons">
					<button class="question-btn" onclick="showAnswer('이름')">이름</button>
					<button class="question-btn" onclick="showAnswer('생일')">생일</button>
					<button class="question-btn" onclick="showAnswer('품종')">품종</button>
					<button class="question-btn" onclick="showAnswer('성별')">성별</button>
					<button class="question-btn" onclick="showAnswer('성격')">성격</button>
					<button class="question-btn" onclick="showAnswer('좋아하는것')">좋아하는 것</button>
					<button class="question-btn" onclick="showAnswer('싫어하는것')">싫어하는 것</button>
					<button class="question-btn" onclick="showAnswer('수면시간')">수면시간</button>
				</div>
			</div>
		</div>
	</div>
</section>

<!-- Story 섹션 -->
<section id="story">
	<div class="content-box">
		<h1>Story</h1>
		<p class="section-text"><strong>길고양이 토토와의 만남</strong></p>
		<p id="status">토토를 방향키로 이동시켜 보세요.</p>
		<!-- 맵 -->
		<div id="map">
		</div>
	</div>
</section>

<!-- Photo 섹션 -->
<section id="photo">
	<div class="content-box">
		<h1>Photo</h1>
		<p>토토의 사랑스러운 순간순간들</p>
		<div class="">
			<ul class="gallery-images">
				<li class="gallery-image-container">
					<img alt="토토 사진 1" class="gallery-image" src="/images/toto/1.jpg">
				</li>
				<li class="gallery-image-container">
					<img alt="토토 사진 2" class="gallery-image" src="/images/toto/2.jpg">
				</li>
				<li class="gallery-image-container">
					<img alt="토토 사진 3" class="gallery-image" src="/images/toto/3.jpg">
				</li>
				<li class="gallery-image-container">
					<img alt="토토 사진 4" class="gallery-image" src="/images/toto/4.jpg">
				</li>
				<li class="gallery-image-container">
					<img alt="토토 사진 5" class="gallery-image" src="/images/toto/5.jpg">
				</li>
				<li class="gallery-image-container">
					<img alt="토토 사진 6" class="gallery-image" src="/images/toto/6.jpg">
				</li>
				<li class="gallery-image-container">
					<img alt="토토 사진 7" class="gallery-image" src="/images/toto/7.jpg">
				</li>
				<li class="gallery-image-container">
					<img alt="토토 사진 8" class="gallery-image" src="/images/toto/8.jpg">
				</li>
				<li class="gallery-image-container">
					<img alt="토토 사진 9" class="gallery-image" src="/images/toto/9.jpg">
				</li>
				<li class="gallery-image-container">
					<img alt="토토 사진 10" class="gallery-image" src="/images/toto/10.jpg">
				</li>
				<li class="gallery-image-container">
					<img alt="토토 사진 11" class="gallery-image" src="/images/toto/11.jpg">
				</li>
				<li class="gallery-image-container">
					<img alt="토토 사진 12" class="gallery-image" src="/images/toto/12.jpg">
				</li>
				<li class="gallery-image-container">
					<img alt="토토 사진 13" class="gallery-image" src="/images/toto/13.jpg">
				</li>
				<li class="gallery-image-container">
					<img alt="토토 사진 14" class="gallery-image" src="/images/toto/14.jpg">
				</li>
				<li class="gallery-image-container">
					<img alt="토토 사진 15" class="gallery-image" src="/images/toto/15.jpg">
				</li>
				<li class="gallery-image-container">
					<img alt="토토 사진 16" class="gallery-image" src="/images/toto/16.jpg">
				</li>
			</ul>
		</div>
	</div>
</section>

<!-- footer -->
<footer>
	<p>모든 저작권은 토토한테 있음</p>
</footer>

<!-- 팝업 모달 -->
<div class="popup-overlay" id="popup">
	<div class="popup-content">
		<button class="close-popup-btn" onclick="closePopup()">X</button>
		<img alt="팝업 이미지" id="popup-image" src="">
	</div>
</div>

<script>
	/* 맵 */
	const mapSize = 5;
	let playerPosition = {x: 0, y: 0};

	// 맵과 상태 관리
	const mapElement = document.getElementById("map");
	const statusElement = document.getElementById("status");

	// 이벤트 좌표
	const events = [
		{x: 1, y: 0, message: "우리는 집 근처 편의점에서 처음 만났어요.", className: "special-cu"},
		{x: 3, y: 1, message: "추운 겨울날씨에 주차장에 머무르곤 했는데, 어느날 하루아침에 사라져버렸어요.", className: "special-park"},
		{x: 3, y: 3, message: "수소문 끝에 경기도 안산에서 토토를 봤다는 연락을 받았어요.", className: "special-ansan"},
		{x: 4, y: 4, message: "좋은 분들의 구조 도움 덕분에 토토는 저희집으로 와서 저의 사랑스러운 고양이 토토가 되었어요.", className: "special-house"}
	];

	// 맵 생성
	function createMap() {
		mapElement.innerHTML = ""; // 기존 맵 초기화

		for (let row = 0; row < mapSize; row++) {
			for (let col = 0; col < mapSize; col++) {
				const tile = document.createElement("div");
				tile.classList.add("tile");
				tile.dataset.x = col;
				tile.dataset.y = row;

				// 이벤트 좌표 이미지 추가
				const event = events.find(e => e.x === col && e.y === row);
				if (event) {
					tile.classList.add("event", event.className);
				}

				// 토토 아이콘
				if (playerPosition.x === col && playerPosition.y === row) {
					const playerIcon = document.createElement("img");
					playerIcon.src = "/images/story/toto.png"; // 토토 아이콘
					tile.appendChild(playerIcon);
				}

				mapElement.appendChild(tile);
			}
		}

		checkEvent(playerPosition.x, playerPosition.y);
	}

	// 이벤트 체크
	function checkEvent(x, y) {
		const event = events.find(e => e.x === x && e.y === y);
		if (event) {
			statusElement.textContent = `${event.message}`;
		} else {
			statusElement.textContent = "토토를 방향키로 이동시켜 보세요.";
		}
	}

	// 아이콘 이동
	function movePlayer(direction) {
		const {x, y} = playerPosition;

		// 방향에 따라 이동
		switch (direction) {
			case "left":
				if (x > 0) playerPosition.x--;
				break;
			case "right":
				if (x < mapSize - 1) playerPosition.x++;
				break;
			case "up":
				if (y > 0) playerPosition.y--;
				break;
			case "down":
				if (y < mapSize - 1) playerPosition.y++;
				break;
		}

		createMap();
	}

	// 방향키 이벤트 리스너
	document.addEventListener("keydown", (event) => {
		if (event.key === "ArrowLeft") {
			movePlayer("left");
		} else if (event.key === "ArrowRight") {
			movePlayer("right");
		} else if (event.key === "ArrowUp") {
			movePlayer("up");
		} else if (event.key === "ArrowDown") {
			movePlayer("down");
		}
	});

	createMap();

	// 별 동적 생성
	const starContainer = document.querySelector('.stars-container');

	// 별 100개
	for (let i = 0; i < 100; i++) {
		const star = document.createElement('div');
		star.classList.add('star');
		// 랜덤 위치 설정
		const x = Math.random() * 100;
		const y = Math.random() * 100;
		star.style.top = `${y}vh`;
		star.style.left = `${x}vw`;
		star.style.animationDelay = `${Math.random() * 2}s`;
		starContainer.appendChild(star);
	}

	// 메뉴 스크롤 이동
	document.querySelectorAll('a[href^="#"]').forEach(anchor => {
		anchor.addEventListener('click', function (e) {
			e.preventDefault();
			const targetId = this.getAttribute('href').substring(1);
			const targetElement = document.getElementById(targetId);
			window.scrollTo({
				top: targetElement.offsetTop - 60, // 메뉴 높이 제외
				behavior: 'smooth',
			});
		});
	});

	// 챗봇
	const responses = {
		'이름': '제 이름은 토토에요.',
		'생일': '2021.06.01 (수의사 선생님과 추측)',
		'품종': '스트릿 출신으로 삼색이입니다.',
		'성별': '여아 (삼색이는 99.9% 여아입니다.)',
		'성격': '순둥이, 쫄보, 엄마바라기에요.',
		'좋아하는것': '장난감 (작은 벌레 낚싯대, 스네이크 낚싯대), 음식 (닭), 사람 (엄마)',
		'싫어하는것': '음식 (영양제, 특히 오메가3를 츄르에 타서 먹이면 바로 뱉어버려요), 사람 (목소리나 동작이 크고 저음의 남자를 무서워해요)',
		'수면시간': '사람의 패턴과 맞춰져있는데, 밥이나 간식을 먹고 나면 그루밍하고 꿀잠을 자요. 집사가 없으면 하루종일 자요.'
	};

	function showAnswer(question) {
		const chatBox = document.querySelector('.chat-box');

		// 챗본 오른쪽
		const userMessage = document.createElement('p');
		userMessage.classList.add('user-message');
		userMessage.textContent = question;
		chatBox.appendChild(userMessage);

		// 챗본 왼쪽
		const botMessage = document.createElement('p');
		botMessage.classList.add('bot-message');
		botMessage.textContent = responses[question];
		chatBox.appendChild(botMessage);

		// 화면 스크롤
		//chatBox.scrollTop = chatBox.scrollHeight;
	}

	// 팝업 열기
	function openPopup(imageSrc) {
		const popup = document.getElementById('popup');
		const popupImage = document.getElementById('popup-image');
		popupImage.src = imageSrc;
		popup.classList.add('show');
	}

	// 팝업 닫기
	function closePopup() {
		const popup = document.getElementById('popup');
		popup.classList.remove('show');
	}

	// 갤러리 이미지 이벤트 리스너
	const galleryItems = document.querySelectorAll('.gallery-image-container');
	galleryItems.forEach(item => {
		item.addEventListener('click', function () {
			const imageSrc = item.querySelector('img').src;
			openPopup(imageSrc);
		});
	});

	// 팝업 바깥영역 클릭 시 팝업 닫기
	document.getElementById('popup').addEventListener('click', function (e) {
		if (e.target === this) {
			closePopup();
		}
	});
</script>

</body>
</html>
